13.08
Настроена рабочая среда, в то числе eslit и Husky дл автоматической проверки.\
2024-08-14 замусь бозой данных и логкой.

14.08
1. Создал мобильный модуль для логирования  при работе нв сервера. (можно и на фронте его использоваить). \
- Если файл содержит >= 2000 строк (уровень можно регулировать) файл удаялется и создается новый. \
- Пример файла
```test
16:25:10:37 ==> [server -> ERROR]: 'Users' Something that wrong!
     ERR-MEASSAGE: ошибка синтаксиса (примерное положение: "DEAFULT")
16:25:10:37 ==> [server]: "Emails" returning FALSE.
16:25:10:37 ==> [server]: END
16:27:38:15 ==> [server]: START
16:27:38:16 ==> [server]: Start the "Client" connection.
```
- 2. запуск проекта вызывает логику ответственную за создание самой базы данных и создание двух таблиц в базе данных.  \
- Таблица Users связана с таблицей  Emails. \
- void prymaryInstalation();

3. роутер запросов на сервере  изначально писал на 'require("http");' \
- Данная библиотека слабая для большого проекта и закомментировал.
- Сделал набросок роутера на основе frameworke require("express")

На 15/08 надо писать sql для работы с REST API и совместить с роутерем запросов.

15.08
4. изменил серверный роутер . Добавил всегодишь один sql для запроса с методом POST \
- с целью добавить новую строчку в две таблицы db.

5. создано дерево файлов по маршруту `src\frontend\src\account`  работы с модулем `account`. \
- `src\frontend\src\account\components\Pages\index.tsx` создал роутер , для изменени контента страницы. \
- Подготовлен `fetch` запрос с методом POST.  Разместил в обработчике событий. \
- `src\frontend\src\account\services\cookies.ts` функцияя `getCookie` для кенерации куки в `params['headers']['X-CSRFToken']` из `fetch`

На 16/08
- В обработчике событий полу данные из формы регистрации, опудликуя в баце данных
- Надо продумать логику аунтификации через email/
- При авторици надо будет получить данные из базы.

17.08
 - форма регистрации оставляет сообщения (под формой) "Зарегистрирова"-зеленый или нет - красный.
 - форма регистрации если НЕ зарегистрирован  - данные остаются в форме. При регистрации форма стирает данные.
 - ИЗ формы авторизации уходит email и пароль \
 ![img](./img/Screenshot_4.png)

 На странице роутера - `src\backend\src\server\router.ts` где пока ещё размещена вся логика:
 - получаем email из db согласно предоставленного email (из формы). Если пользователь не найден, отправляется 404 код.
 - если user найден (согласно email ) проверяем пользователя на соответствие пароля (А === В ). Если ДА - отправляем код "200" и "sessionId" для "coockie".
 - фронт получает сообщение. Если "404" код Пользователь видит сообщение "Что-то не получилось" (красный). Если "200" в течении сегунд видно сообщение "Вы вошли".
 - Устанавливаем "sessionId" в "coockie" (браузер со всеми ключами "почти") и "session_id" сохраняется в базу.

![img](./img/Screenshot_2.png)

 - Видно под-меню на основе ключа coockie работает. Если ключь drop-нуть, на ссылках произойдет reset и "Профиль" не будет доступныйю Вернется "Вход".
 - При переходе по ссылкам (на обработанные страницы Главная, регистраци, Профиль) - под-менб рабочее.
 - Устанавливаем статус пользователю - 'true' в колонке 'is_active' (db).
 - B топ-меню изчезает ссылка "Вход"
 - На топ-меню становится доступным ссылка "Профиль"ю

![img](./img/Screenshot_1.png)

Далее
 - ссылки из верхнего меню (родительские) получают класс 'active' при наведении и при клике (есть что подщлифовать - тестирование показало).
 - Перенаправлчем пользователя, со страницы "Авторизация" на страницу профиля спустя 2 секунду после клика (для авторизации).


18.08 - 19.08
На страницу "`Профиль`"  (личный кабинет - ЛК) ФИО подгрузил и по рубильнику на поля с ФИО повесил.
Без авторизации данных не видно.
Разница очуществляется через CSS (на данный момент). Думал весь проект (ТЗ) за 3 дня надо сделать, \ согласно слов. Для полноценная разработка - sub-menu хранил бы в db (ячейка `texterea` *deafult - html:string-значение*).

При запускке профиля, вставлялось в React-DOM или DOM через `userEffect(()=>()=>{...thi's core ...})` .

- на форму первичной авторизации user-а добавил POST-запрос.\
 Там SQL (на основе `email` полсучаю все данные одного пользователя). \
 Затем проверяю:
  - если имеется `session_id` возвращается код 200 и `session_id` в браузер.
  - если в db нет `session_id` возвращается код 404. Браузер создает и сохраняет новый ключ. (*Вот тут вопрос срока жизни ключа*).

Note!!:
1. Срок COOKIE в момент отключения браузера  - Вопрос не изучен (не брался за него). \
COOKIE при создании (первичная авторизация ) сохраняется в db. \
Могу отправить очередной запрос (это и сделал) на сервер, там отправить SQL и проверить наличие `session_id` исходя из `email`. 1-е это время. 2-е встает вопрос срока жизни COOKIE.
2. db имеет колонку `is_active`.  `true` как только пользователь авторизовался. \
Как только закрыли браузер, можно отреагировалть на данные событие (отправить сигнал в db) и через `1 800 000` милесеккунд `is_active = false`.
